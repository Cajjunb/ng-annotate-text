{"version":3,"file":"main.min.js","sources":["main.coffee"],"names":[],"mappings":"CAAA,WAAA,QAAQ,OAAO,OAAQ,eAErB,WAAW,uBAAwB,SAAC,QACpC,OAAO,oBACJ,KAAM,MAAO,MAAO,QACpB,KAAM,QAAS,MAAO,UACtB,KAAM,OAAQ,MAAO,SACrB,KAAM,SAAU,MAAO,WACvB,KAAM,OAAQ,MAAO,SACrB,KAAM,OAAQ,MAAO,SAGxB,OAAO,YAEL,KAAM,MACN,QAAS,kBACT,OAAQ,KAGR,KAAM,OACN,QAAS,mBACT,OAAQ,KAIV,OAAO,YAAc,SAAC,UACC,OAAnB,SAAS,OACX,OAAO,YAAY,KAAO,SAAS,MACX,OAAtB,SAAS,UACX,OAAO,YAAY,KAAK,QAAU,SAAS,SACpB,OAArB,SAAS,SACX,OAAO,YAAY,KAAK,OAAS,SAAS,QAC3C,OAAO,UAGR,OAAO,SAAW,SAAC,OACE,OAAjB,MAAM,QACR,OAAO,YAAY,KAAO,MAAM,QAGlC,OAAO,cAAgB,SAAC,aACvB,QAAU,MAAM,QAAS,OAAO,YAAY,MAE7C,OAAO,MAAQ,iBAAG,QAAO,UACzB,OAAO,OAAS,iBAAG,QAAO,aAI1B,WAAW,iBAAkB,SAAC,OAAQ,SAAU,oBAChD,QAAO,WACN,2mCAGD,OAAO,cAED,GAAA,eACH,WAAY,EACZ,SAAU,GACV,KAAM,QACN,MACC,QAAS,gBACT,OAAQ,OAIZ,OAAO,SACN,UAAU,EACV,iBAAkB,2BAClB,gBAAiB,uBACjB,mBAAoB,mCACpB,kBAAmB,wBAEpB,OAAO,WAAa,SAAC,aACpB,SAAW,QAAQ,IAAI,cAGxB,OAAO,gBAAkB,SAAC,KACzB,GAAkB,sCAAf,IAAI,cACN,OAAM,qBAEN,MAAM,MAER,OAAO,aAAe,SAAC,KAEtB,GAAA,kBAAA,YAAa,IAAI,KAAK,mBAAmB,GAAG,GAAG,QAC/C,YAAc,WAAW,GAAG,UAE7B,OAAO,UAAY,SAAC,QACnB,GAAA,cAAA,QAAS,OAAO,OAAS,MACR,gBAAjB,SAA0C,IAAZ,SAAkB,OAAW,SAE5D,OAAO,WAAa,SAAC,eACF,gBAAlB,UAA+B,QAAQ,OAAS,GAEjD,OAAO,sBAAwB,SAAC,aAC/B,2BAD+B,YAAc,OAAO,YAAY,IAC7D,YAAgB,OAGlB,YACE,IAAI,SAAC,YACL,GAAA,WAAA,QACG,OAAO,UAAU,WAAW,KAAK,SAAY,OAAO,WAAW,WAAW,KAAK,UACjF,IAAI,KAAK,YACP,WAAW,UAAa,WAAW,SAAS,SAC9C,IAAM,IAAI,OAAO,OAAO,sBAAsB,WAAW,YAC1D,MAEA,OAAO,SAAC,KAAM,eACd,MAAK,OAAO","sourcesContent":["angular.module(\"app\", [\"ngAnnotate\"])\n\n\t.controller \"AnnotationController\", ($scope, $timeout) ->\n\t\t$scope.annotationColours = [\n\t\t\t{ name: \"Red\", value: \"red\" }\n\t\t\t{ name: \"Green\", value: \"green\" }\n\t\t\t{ name: \"Blue\", value: \"blue\" }\n\t\t\t{ name: \"Yellow\", value: \"yellow\" }\n\t\t\t{ name: \"Pink\", value: \"pink\" }\n\t\t\t{ name: \"Aqua\", value: \"aqua\" }\n\t\t]\n\n\t\t$scope.templates = [\n\t\t\t{\n\t\t\t\ttype: \"red\"\n\t\t\t\tcomment: \"Grammar mistake\"\n\t\t\t\tpoints: -1\n\t\t\t}\n\t\t\t{\n\t\t\t\ttype: \"aqua\"\n\t\t\t\tcomment: \"Spelling mistake\"\n\t\t\t\tpoints: -1\n\t\t\t}\n\t\t]\n\n\t\t$scope.useTemplate = (template) ->\n\t\t\tif template.type isnt null\n\t\t\t\t$scope.$annotation.type = template.type\n\t\t\tif template.comment isnt null\n\t\t\t\t$scope.$annotation.data.comment = template.comment\n\t\t\tif template.points isnt null\n\t\t\t\t$scope.$annotation.data.points = template.points\n\t\t\t$scope.$close()\n\t\t\treturn\n\n\t\t$scope.useColor = (color) ->\n\t\t\tif color.value isnt null\n\t\t\t\t$scope.$annotation.type = color.value\n\t\t\treturn\n\n\t\t$scope.isActiveColor = (color) ->\n\t\t\tcolor and color.value is $scope.$annotation.type\n\n\t\t$scope.close = -> $scope.$close()\n\t\t$scope.reject = -> $scope.$reject()\n\n\t\treturn\n\n\t.controller \"MainController\", ($scope, $timeout, NGAnnotation) ->\n\t\t$scope.demoTexts = [\n\t\t\t\"The Stockholm School of Economics (SSE) or HandelshÃ¶gskolan i Stockholm (HHS) is one of the leading European business schools. SSE is a private business school that receives most of its financing from private sources. SSE offers bachelors, masters and MBA programs, along with highly regarded PhD programs and extensive Executive Education (customized and open programs).\\r\\rSSE's Masters in Management program is ranked no. 18 worldwide by the Financial Times.[1] QS ranks SSE no.26 among universities in the field of economics worldwide\\r\\rSSE is accredited by EQUIS certifying that all of its main activities, teaching as well as research, are of the highest international standards. SSE is also the Swedish member institution of CEMS together with universities such as London School of Economics, Copenhagen Business School, Tsinghua University, Bocconi University, HEC Paris and the University of St. Gallen.\\r\\rSSE has founded sister organizations: SSE Riga in Riga, Latvia, and SSE Russia in St Petersburg, Russia. It also operates a research institute in Tokyo, Japan; the EIJS (European Institute of Japanese Studies).\"\n\t\t]\n\n\t\t$scope.annotations = [\n\t\t\t[\n\t\t\t\tnew NGAnnotation\n\t\t\t\t\tstartIndex: 0\n\t\t\t\t\tendIndex: 39\n\t\t\t\t\ttype: \"green\"\n\t\t\t\t\tdata:\n\t\t\t\t\t\tcomment: \"Well written!\"\n\t\t\t\t\t\tpoints: 2\n\t\t\t]\n\t\t]\n\n\t\t$scope.options =\n\t\t\treadonly: false\n\t\t\tpopupTemplateUrl: \"partials/annotation.html\"\n\t\t\tpopupController: \"AnnotationController\"\n\t\t\ttooltipTemplateUrl: \"partials/annotation-tooltip.html\"\n\t\t\ttooltipController: \"AnnotationController\"\n\n\t\t$scope.onAnnotate = ($annotation) ->\n\t\t\tconsole && console.log $annotation\n\t\t\treturn\n\n\t\t$scope.onAnnotateError = ($ex) ->\n\t\t\tif $ex.message == \"NG_ANNOTATE_PARTIAL_NODE_SELECTED\"\n\t\t\t\talert \"Invalid selection.\"\n\t\t\telse\n\t\t\t\tthrow $ex\n\n\t\t$scope.onEditorShow = ($el) ->\n\t\t\t# Focus the first input or textarea\n\t\t\tfirstInput = $el.find(\"input, textarea\").eq(0).focus()\n\t\t\tfirstInput && firstInput[0].select()\n\n\t\t$scope.hasPoints = (points) ->\n\t\t\t_isNaN = Number.isNaN || isNaN\n\t\t\ttypeof points is \"number\" and points isnt 0 and not _isNaN points\n\n\t\t$scope.hasComment = (comment) ->\n\t\t\ttypeof comment is \"string\" and comment.length > 0\n\n\t\t$scope.annotationsAsFlatList = (annotations = $scope.annotations[0]) ->\n\t\t\tif not annotations.length\n\t\t\t\t[]\n\t\t\telse\n\t\t\t\tannotations\n\t\t\t\t\t.map((annotation) ->\n\t\t\t\t\t\tarr = []\n\t\t\t\t\t\tif $scope.hasPoints(annotation.data.points) and $scope.hasComment(annotation.data.comment)\n\t\t\t\t\t\t\tarr.push annotation\n\t\t\t\t\t\tif annotation.children and annotation.children.length\n\t\t\t\t\t\t\tarr = arr.concat $scope.annotationsAsFlatList annotation.children\n\t\t\t\t\t\tarr\n\t\t\t\t\t)\n\t\t\t\t\t.reduce((prev, current) ->\n\t\t\t\t\t\tprev.concat current\n\t\t\t\t\t)\n"],"sourceRoot":"/source/"}